<div class="container mt-5">
  <div class="row justify-content-center">

    <div class="card" style="width: 400px;">
      <h3 class="card-header row justify-content-center">Faça o seu cadastro</h3>

      <div class="card-body">
        <form class="was-validated" [formGroup]="userForm" (ngSubmit)="signUpUser()">

          <div class="form-group has-feedback mb-3" [ngClass]="formUtils.fieldClassErrorOrSuccess('email')">
            <label for="email" class="form-label mb-1">Email</label>
            <div>
              <input type="email" class="form-control" id="email" formControlName="email" placeholder="Digite seu email"
                required>
              <span class="valid-feedback" [ngClass]="formUtils.iconClassErrorOrSuccess('email')">
              </span>
              <div *ngIf="formUtils.showFieldError(formUtils.msg.email)" class="text-danger">
                <div *ngIf="formUtils.msg.email.errors?.required">O email é obrigatório</div>
                <div *ngIf="formUtils.msg.email.errors?.email">O email digitado é inválido</div>
              </div>
            </div>
          </div>

          <div class="form-group has-feedback mb-3" [ngClass]="formUtils.fieldClassErrorOrSuccess('password')">
            <label for="password" class="form-label mb-1">Senha</label>
            <div>
              <input type="password" class="form-control" id="password" formControlName="password" required>
              <span class="valid-feedback" [ngClass]="formUtils.iconClassErrorOrSuccess('password')">
              </span>
              <div *ngIf="formUtils.showFieldError(formUtils.msg.password)" class="text-danger">
                <div *ngIf="formUtils.msg.password.errors?.required">A senha é obrigatório</div>
                <div *ngIf="formUtils.msg.password.errors?.minlength">A senha deve ter no mínimo 6 caracters</div>
              </div>
            </div>
          </div>

          <div class="form-group has-feedback mb-3"
            [ngClass]="formUtils.fieldClassErrorOrSuccess('password_confirmation')">
            <label for="password_confirmation" class="form-label mb-1">Confirmação de senha</label>
            <div>
              <input type="password" class="form-control" id="password_confirmation"
                formControlName="password_confirmation" required>
              <span class="valid-feedback" [ngClass]="formUtils.iconClassErrorOrSuccess('password_confirmation')">
              </span>
              <div *ngIf="formUtils.showFieldError(formUtils.msg.password_confirmation)" class="text-danger">
                <div *ngIf="formUtils.msg.password_confirmation.errors?.required">A confirmação de senha é obrigatório
                </div>
                <div *ngIf="formUtils.msg.password_confirmation.errors?.mismatch">A senha e a confirmação não combinam
                </div>
              </div>
            </div>
          </div>

          <div class="form-group">
            <div class="mt-3">
              <button [disabled]="userForm.invalid" type="submit" class="btn btn-primary">
                Criar conta
              </button>
            </div>
          </div>

        </form>
      </div>

    </div>

    <div class="text-center mt-2">
      Se você já possui uma conta,
      <a routerLink='/sign-in'> Clique aqui</a>
    </div>

  </div>
</div>